<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Welcome to PerkMiner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { 
      font-family: Arial, sans-serif; 
      background: #f7f7fb; 
      text-align: center; 
      margin:0; 
      padding:0;
    }
    .header { 
      width: 100%; 
      background: #fff; 
      padding: 20px 0; 
      box-shadow: 0 2px 8px #0001; 
      position: relative;
    }
    .header img { 
      max-width: 260px; 
      height: auto; 
    }
    .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #6366f1;
      color: white;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      font-size: 1.4em;
      font-weight: bold;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      transition: all 0.2s;
    }
    .close-btn:hover {
      background: #4f46e5;
      transform: scale(1.1);
    }
    .videos-row {
      display: flex; 
      flex-wrap: wrap; 
      gap: 28px; 
      justify-content: center; 
      padding: 40px 20px 60px 20px;
    }
    .video-card {
      background: #fff; 
      border-radius: 14px; 
      box-shadow: 0 2px 12px #0002;
      padding: 24px 18px 36px 18px; 
      max-width: 430px; 
      flex: 1 1 380px; 
      min-width: 320px;
      display: flex; 
      flex-direction: column; 
      align-items: center;
    }
    .video-title {
      font-size: 1.4em; 
      font-weight: bold; 
      margin-bottom: 16px; 
      color: #23223f;
    }
    video { 
      width: 100%; 
      max-width: 390px; 
      border-radius: 8px; 
      margin-bottom: 20px;
    }
    
    @media (max-width: 900px) {
      .videos-row { 
        flex-direction: column; 
        align-items: center; 
        padding-top: 30px;
      }
      .video-card { 
        margin-bottom: 40px; 
        min-width: 80vw; 
      }
    }
    @media (max-width: 600px) {
      .header img { max-width: 170px; }
      .video-title { font-size: 1.08em; }
      .video-card { padding: 17px 7px 24px 7px; }
      .close-btn {
        top: 12px;
        right: 12px;
        width: 38px;
        height: 38px;
        font-size: 1.2em;
      }
    }
  </style>
</head>
<body>

  <!-- HEADER WITH LOGO + CLOSE BUTTON -->
  <div class="header">
    <img src="https://res.cloudinary.com/dmrntlcfd/image/upload/v1769980535/PerkMiner_Logo_o2qgfy.jpg" alt="PerkMiner Logo">
    <button class="close-btn" onclick="window.close();">Ã—</button>
  </div>

  <!-- SIDE-BY-SIDE VIDEO WINDOWS -->
  <div class="videos-row">
    <!-- USER / MEMBER VIDEO CARD -->
    <div class="video-card">
      <div class="video-title">For Savvy Shoppers</div>
      <video
        id="user-video"
        controls 
        controlsList="nodownload"
        oncontextmenu="return false;"
        preload="auto"
        poster="https://via.placeholder.com/800x450/6366f1/ffffff?text=Shopper+Intro">
        <source src="https://res.cloudinary.com/dmrntlcfd/video/upload/v1769913409/Perkminer_-_Cashback_pro_vlefos.mp4" type="video/mp4">
        Sorry, your browser doesn't support embedded videos.
      </video>
    </div>

    <!-- BUSINESS VIDEO CARD -->
    <div class="video-card">
      <div class="video-title">For Business Owners</div>
      <video
        id="biz-video"
        controls 
        controlsList="nodownload"
        oncontextmenu="return false;"
        preload="auto"
        poster="https://via.placeholder.com/800x450/232323/ffffff?text=Business+Intro">
        <source src="https://res.cloudinary.com/dmrntlcfd/video/upload/v1769913409/Perkminer_-_Cashback_pro_vlefos.mp4" type="video/mp4">
        Sorry, your browser doesn't support embedded videos.
      </video>
    </div>
  </div>

  <script>
    // Video protection (right-click, save prevention)
    function protectVideo(id) {
      const video = document.getElementById(id);
      video.addEventListener('contextmenu', (e) => e.preventDefault());
      video.addEventListener('keydown', function(e){
        if ((e.ctrlKey && e.key === "s") || (e.key === "S" && e.metaKey)) {
          e.preventDefault();
        }
      });
      video.addEventListener('mouseover', function(){
        video.setAttribute('controlsList', 'nodownload');
      });
    }

    protectVideo('user-video');
    protectVideo('biz-video');

    // Optional: If window.close() doesn't work (e.g. not opened by script),
    // you can add a fallback message or redirect
    document.querySelector('.close-btn').addEventListener('click', function() {
      if (window.history.length > 1) {
        window.history.back();
      } else {
        // Fallback if no history (e.g. opened in new tab)
        alert("You can now close this tab or return to your email to complete registration.");
      }
    });
  </script>
</body>
</html>
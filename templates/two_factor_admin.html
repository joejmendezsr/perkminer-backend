<!DOCTYPE html>
<html>
<head>
    <title>Admin Two-Factor Authentication - PerkMiner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
      @media (max-width: 600px) {
        .btn, .btn-primary, .btn-link { width: 100% !important; margin-bottom: 10px; }
        .card { padding: 1.12rem !important; }
      }
      .card { max-width: 380px; margin: 0 auto; }
    </style>
</head>
<body>
<div class="container py-5">
    <div class="card shadow-sm p-4">
        <h2 class="mb-4 text-center">Admin Two-Factor Authentication</h2>
        <p class="text-center">Enter the 6-digit code sent to your admin email.</p>
        <form method="post">
            {{ form.hidden_tag() }}
            <div class="mb-3">
                {{ form.code(class="form-control text-center", maxlength="6", autocomplete="one-time-code") }}
            </div>
            <button type="submit" class="btn btn-primary w-100">{{ form.submit.label.text }}</button>
        </form>
        <form method="post" action="{{ url_for('resend_admin_2fa') }}" class="mt-3 text-center">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit" class="btn btn-link ps-0">Resend Code</button>
        </form>
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert alert-warning mt-3 text-center">
              {% for message in messages %}
                {{ message }}
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}
    </div>
</div>
</body>
</html>
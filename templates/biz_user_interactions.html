<!DOCTYPE html>
<html>
<head>
    <title>User Service Requests</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <style>
      #interaction-list {
        max-height: 400px;
        overflow-y: auto;
      }
    </style>
</head>
<body>
<div class="container py-4">
  <h3 class="mb-3">User Service Requests</h3>
  <input type="text" id="searchInput" class="form-control mb-3" placeholder="Filter by user name...">
  <div id="interaction-list">
  {% if interactions %}
    <ul class="list-group">
      {% for i in interactions %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <div>
            <strong>{{ i.user.name or i.user.email }}</strong><br>
            <small class="text-muted">{{ i.service_type }}</small>
          </div>
          <div>
            <a href="{{ url_for('biz_interaction_details', interaction_id=i.id) }}" class="btn btn-info btn-sm me-2">Details</a>
            <a href="{{ url_for('active_session', interaction_id=i.id) }}" class="btn btn-primary btn-sm">Select</a>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-info">No active user requests yet.</div>
  {% endif %}
  </div>
</div>
<script>
document.getElementById('searchInput').addEventListener('keyup', function () {
    var filter = this.value.toLowerCase();
    document.querySelectorAll('#interaction-list li').forEach(function(item) {
        var name = item.textContent || item.innerText;
        item.style.display = name.toLowerCase().indexOf(filter) > -1 ? "" : "none";
    });
});
</script>
</body>
</html>